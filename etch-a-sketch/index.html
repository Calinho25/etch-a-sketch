<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link rel="stylesheet" href="style.css">
</head>
<body>
    <input type="text">
    <button>Generate</button>
    <!--checkbox seemed the easiest way to add a toggle-->
    <input type="checkbox" id="myToggle">
    <label for="myToggle">Multicolour</label>
    <div class="container"></div>
    
    <script>
        let input = document.querySelector("input")
        let size = "";
        let button = document.querySelector("button")
        button.addEventListener("click",(event)=>{
            let container = document.querySelector(".container")
            /* this resets the grid each time */
            container.innerHTML = "";
            size = input.value*input.value;
            console.log("Size is now", size);
        console.log (size);
        let gridSquares = []
        /*make div children of squares*/
            for (let index = 0; index < size; index++) {
            let container = document.querySelector(".container")
              let squares = document.createElement("div");
              squares.className = "squares";
              /* determines width based off of the container width divided by input value*/
              /* flex grow 0 shrink 0 100% divided by the input */
              squares.style.flex = `0 0 calc(100% / ${input.value})`;
              container.appendChild(squares);
              /* split the colour into rgb numbers which range from 1-256*/
              function randomColour(){
                var r = Math.floor(Math.random()*256)
                var g = Math.floor(Math.random()*256)
                var b = Math.floor(Math.random()*256)
                let rgb = 'rgb(' + r + ',' + g + ',' + b + ')';
                return rgb;
              }
              let multicolour = document.querySelector("#myToggle")
              squares.addEventListener("mouseover", (event)=>{
                if (multicolour.checked) {
                    squares.style.backgroundColor = randomColour();
                } else {
                    /* this removes the coloured square so the black can go over it*/
                    squares.style.backgroundColor = "";
                    squares.classList.add("colour");
                }
              })}});
    </script>
</body>
</html>